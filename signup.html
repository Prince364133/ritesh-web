<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Admin | Zestech</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body style="display: flex; justify-content: center; align-items: center; min-height: 100vh; background: #f0f2f5;">

    <div
        style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-width: 400px; width: 100%;">
        <h2 class="text-center" style="margin-bottom: 1.5rem;">Create Admin Account</h2>
        <form id="signupForm">
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Email</label>
                <input type="email" id="signup-email"
                    style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;" required>
            </div>
            <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Password</label>
                <input type="password" id="signup-password"
                    style="width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: 4px;" required
                    placeholder="Min 6 characters">
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Create Account</button>
            <p id="signup-msg" style="margin-top: 1rem; text-align: center; font-size: 0.9rem;"></p>
        </form>
        <div style="margin-top: 2rem; text-align: center; border-top: 1px solid #eee; padding-top: 1rem;">
            <a href="admin.html" style="color: var(--color-accent); font-weight: 600;">Go to Admin Login &rarr;</a>
        </div>
    </div>

    <script type="module">
        import { auth } from './js/firebase-config.js';
        import { createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        document.getElementById('signupForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const msg = document.getElementById('signup-msg');

            try {
                await createUserWithEmailAndPassword(auth, email, password);
                msg.style.color = 'green';
                msg.textContent = 'Admin created successfully! You can now login.';
                document.getElementById('signupForm').reset();
            } catch (error) {
                msg.style.color = 'red';
                msg.textContent = error.message;
            }
        });
    </script>
</body>

</html>